> [!important]
> **ダウンロードしたデータの取り扱いには十分注意してください**  
> Qiita Team はその特性上、外部に公開すべきでない、あるいは持ち出すべきではない記事などが含まれている可能性もあります。ダウンロード後のデータの取り扱いについては十分な注意と配慮をお願いします。
> 記事をダウンロードしたことによって発生したトラブルについて、私は一切の責任を負いません。

# Qiita team post exporter

Qiita Team に投稿された自分の投稿をダウンロードします。

## できること

自分が Qiita Team に投稿したデータをダウンロードして Markdown ファイルとして保存します。
記事内に含まれる画像データも一緒にダウンロードして、パスをローカルのものに書き換えます。

一応 API から取得できる JSON も保存しているのであとでメタデータが必要になったときはそこから取得できる…かも？

### できないこと

API経由で下書きの取得はできないようで、下書きはダウンロードできません。

## setup

```sh
pnpm install
cp .env.example .env
```

### .env の編集

**OUTDIR**
出力先フォルダ名です

**MDFILE**
エクスポートされる記事 MD ファイルの名前です。
実際に保存されるパスは以下のようになります。

```
./${OUTDIR}/${QIITA_POST_ID}/${MDFILE}
```

> QIITA_POST_ID = API から取得できる Qiita の投稿 ID


**QIITA_TEAM**

Qiita Team のチームIDです。
探す方法は色々ありますが、一番わかり易いのは `xxxxx.qiita.com` の `xxxxx` の部分かも？

**QIITA_TOKEN**

Qiita のパーソナルアクセストークンです。
取得方法は後述します

## 使い方

```sh
pnpm run get
```

## Qiita のアクセストークンの取得

> [!important]
> Qiita Team 専用モードになっている場合はこの限りではないかもしれません。

- Qiita (Qiita Team ではありません）の設定を開きます
- 設定メニューの「アプリケーション」をクリックします
  - 「個人用アクセストークン」セクションの横にある「新しくトークンを発行する」をクリックします
    - 説明には適当な名前をつけておきます。たとえば「QiitaTeamExportTool」とか
    - スコープは `read_qiita_team` だけあればOK
  - 発行するをクリックすると、画面上にアクセストークンが表示されます
- 取得したトークンを `.env` の `QIITA_TOKEN` にセットします（ページを離れると二度と確認できなくなるので注意。失敗した場合は作り直し）
- 不要になったら「削除する」をクリックして無効化するのを忘れずに


